(this["webpackJsonpmagnet-boards"]=this["webpackJsonpmagnet-boards"]||[]).push([[0],{38:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var c=a(3),n=a(0),r=a.n(n),s=a(11),i=a.n(s),o=(a(38),a(39),a(17)),l=a.n(o),d=a(22),u=a(13),p=a(6),m=a(29),j=a(8),b=a(7),h=(a(41),a(42),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).render=function(){return Object(c.jsx)("header",{className:"header"})},n.state={},n}return a}(n.Component)),O=a(16),f=(a(43),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).handleNextStep=function(){var e=n.props.data,t=e.currentStep,a=e.picture,c=e.type,r=e.contactName,s=e.contactSocialType,i=e.contactValue,o=void 0;switch(t){case 1:if(c){o=t+1;break}return;case 2:if(a){o=t+1;break}return;case 4:if(r&&s&&i){o=t+1,n.props.handleSubmit();break}return;default:o=t+1}n.props.handleStep(o)},n.handlePrevStep=function(){var e=n.props.data.currentStep-1;n.props.handleStep(e)},n.render=function(){var e=Object(O.a)(n).stepsCount,t=n.props,a=t.currentStep,r=t.data.isFilled,s=void 0;switch(a){case 0:s="\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u043e\u0441\u043a\u0443";break;case 1:s="\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435";break;case 2:s="\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0440\u043a\u0435\u0440\u044b";break;case 3:s="\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b";break;case 4:s="\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c";break;case 5:s="\u041e, \u0431\u0440\u0430\u0442\u0456\u043a";break;default:s="\u0421\u0434\u0454\u0434\u0443\u044e\u0449\u0456\u0439 ".concat(a)}return a<e?Object(c.jsxs)("footer",{className:"footer",children:[a>=1?Object(c.jsx)("button",{className:"action__back",onClick:n.handlePrevStep}):"",Object(c.jsxs)("button",{className:r?"action":"action action--disabled",onClick:n.handleNextStep,children:[Object(c.jsx)("div",{className:"action__info",children:a>0?Object(c.jsxs)("span",{className:"action__step",children:["\u0428\u0430\u0433 ",a," \u0438\u0437 ",e]}):""}),Object(c.jsx)("span",{className:"action__title",children:s})]})]}):""},n.stepsCount=5,n.state={},n}return a}(n.Component)),g=(a(44),a(45),a.p+"static/media/image1.b8856e28.jpg"),x=a.p+"static/media/image2.f5b9bec6.jpg",v=a.p+"static/media/image3.a9fb8d6e.jpg",_=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).render=function(){var e=r.props.title;return Object(c.jsx)(n.Fragment,{children:Object(c.jsxs)("article",{className:"content",children:[Object(c.jsx)("h1",{className:"content__title",children:e}),Object(c.jsx)("div",{className:"content__banner",children:Object(c.jsx)("img",{className:"content__bannerImage",src:g,alt:""})}),Object(c.jsx)("p",{className:"content__description",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quod, excepturi dolores. Incidunt commodi voluptates architecto culpa similique corrupti officia voluptatibus eligendi totam eveniet! Quidem unde incidunt ex eligendi, aperiam eaque."}),Object(c.jsxs)("div",{className:"content__slider",children:[Object(c.jsx)("div",{className:"slide",children:Object(c.jsx)("img",{className:"slide__image",src:x,alt:""})}),Object(c.jsx)("div",{className:"slide",children:Object(c.jsx)("img",{className:"slide__image",src:v,alt:""})})]}),Object(c.jsx)("p",{className:"content__description",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quod, excepturi dolores. Incidunt commodi voluptates architecto culpa similique corrupti officia voluptatibus eligendi totam eveniet! Quidem unde incidunt ex eligendi, aperiam eaque."})]})})},r.state={},r}return a}(n.Component),N=a(23),C=(a(46),a(47),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).render=function(){var e=r.props,t=e.image,a=e.name,s=(e.price,e.id);return Object(c.jsx)(n.Fragment,{children:Object(c.jsxs)("div",{style:{position:"relative"},children:[Object(c.jsx)("input",{value:s,type:"radio",name:"type",id:s,onChange:r.props.handleChange}),Object(c.jsxs)("label",{className:"type__wrapper",htmlFor:s,children:[Object(c.jsx)("h3",{className:"type__title",children:a}),Object(c.jsx)("img",{className:"type__image",src:t,alt:a})]})]})})},r.state={},r}return a}(n.Component)),S=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).handleChange=function(e){var t=r.state.types.find((function(t){return t.id===+e.currentTarget.value}));r.props.handleType(t)},r.render=function(){var e=r.props.title,t=r.state.types;return console.log("RENDER"),Object(c.jsx)(n.Fragment,{children:Object(c.jsxs)("article",{className:"content",children:[Object(c.jsx)("h1",{className:"content__title",children:e}),Object(c.jsx)("section",{className:"type",children:t.map((function(e,t){return Object(c.jsx)(C,Object(N.a)(Object(N.a)({},e),{},{handleChange:r.handleChange}),t)}))})]})})},r.state={types:[{id:1,image:"https://firebasestorage.googleapis.com/v0/b/magnet-boards.appspot.com/o/defaults%2Fgrid01.png?alt=media",name:"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0435\u043b",price:300},{id:2,image:"https://firebasestorage.googleapis.com/v0/b/magnet-boards.appspot.com/o/defaults%2Fgrid02.png?alt=media",name:"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0435\u043b + \u0442\u0440\u0435\u043a\u0435\u0440 \u043f\u0440\u0438\u0432\u044b\u0447\u0435\u043a",price:350},{id:3,image:"https://firebasestorage.googleapis.com/v0/b/magnet-boards.appspot.com/o/defaults%2Fgrid03.png?alt=media",name:"\u0422\u0440\u0435\u043a\u0435\u0440 \u043f\u0440\u0438\u0432\u044b\u0447\u0435\u043a",price:350}]},r}return a}(n.Component),y=r.a.memo(S),k=(a(48),a(30)),T=(a(61),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).handlePictureChange=function(e){var t=Object(O.a)(s).backgrounds.filter((function(t){return t.id===+e.currentTarget.value}));s.setState({selected:t[0].id}),s.props.handlePicture(t[0]),s.fileRef.current=null},s.handleChange=function(e){if(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){var e=t.result;s.props.handlePicture({id:0,image:e,price:250}),s.setState({selected:0})}}},s.render=function(){var e=Object(O.a)(s).backgrounds;return Object(c.jsx)(n.Fragment,{ref:s.ref,children:Object(c.jsxs)("article",{className:"content",children:[Object(c.jsx)("h1",{className:"content__title",children:"\u0424\u043e\u043d \u0434\u043e\u0448\u043a\u0438"}),Object(c.jsxs)("section",{className:"type",children:[e.map((function(e,t){var a=e.id,r=e.image;e.price;return Object(c.jsxs)(n.Fragment,{children:[Object(c.jsx)("input",{value:a,type:"radio",name:"type",id:a,onChange:s.handlePictureChange}),Object(c.jsxs)("label",{className:"type__wrapper",htmlFor:a,children:[Object(c.jsx)("img",{className:"type__image",src:r,alt:"".concat(a," background")}),Object(c.jsx)("img",{className:"type__image type__image--grid",src:s.props.data.type.image,alt:"apple"})]})]},a)})),Object(c.jsx)("div",{className:"type__wrapper type__wrapper--upload ".concat(0===+s.state.selected?"checked":""),children:Object(c.jsx)(k.ImageCropper,{fileRef:s.fileRef,onChange:s.handleChange,outputOptions:{mimeType:"image/png"},cropOptions:{aspect:4961/3544,maxZoom:3},previewOptions:{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0432\u043e\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}})})]})]})})},s.backgrounds=[{id:1,image:"https://firebasestorage.googleapis.com/v0/b/magnet-boards.appspot.com/o/defaults%2Fbg1.png?alt=media",price:50},{id:2,image:"https://firebasestorage.googleapis.com/v0/b/magnet-boards.appspot.com/o/defaults%2Fbg2.png?alt=media",price:100},{id:3,image:"https://firebasestorage.googleapis.com/v0/b/magnet-boards.appspot.com/o/defaults%2Fbg3.png?alt=media",price:75}],s.state={selected:1},s.fileRef=r.a.createRef(),s}return a}(n.Component)),F=(a(62),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){0>=+t?n.setState(Object(u.a)({},e,0),n.props.handleStuffOrContact(e,t)):3<=+t?n.setState(Object(u.a)({},e,3),n.props.handleStuffOrContact(e,t)):n.setState(Object(u.a)({},e,t),n.props.handleStuffOrContact(e,t))},n.render=function(){var e=n.props.title,t=n.props.data,a=t.type,r=t.picture,s=n.items,i=s.markers,o=s.erasers;return Object(c.jsxs)("article",{className:"content",children:[Object(c.jsx)("h1",{className:"content__title",children:e}),Object(c.jsxs)("section",{className:"boardPreview",children:[Object(c.jsx)("img",{className:"boardPreview__image",src:r.image,alt:""}),Object(c.jsx)("img",{className:"boardPreview__grid",src:a.image,alt:""})]}),Object(c.jsxs)("section",{className:"boardAdditional",children:[Object(c.jsxs)("div",{className:"boardAdditional__group",children:[Object(c.jsx)("h3",{className:"boardAdditional__groupTitle",children:"\u041c\u0430\u0440\u043a\u0435\u0440\u0438"}),Object(c.jsx)("div",{className:"boardAdditional__list",children:i.map((function(e,t){return Object(c.jsxs)("div",{className:"boardAdditional__item item",children:[Object(c.jsx)("h4",{className:"item__color",children:e.color}),Object(c.jsxs)("div",{className:"item__numberWrapper",children:[Object(c.jsx)("button",{className:"decrease",onClick:function(){n.handleChange(e.id,n.state[e.id]-1)},children:"\u2212"}),Object(c.jsx)("input",{readOnly:!0,name:"Color",type:"number",className:"item__numberInput",value:+n.state[e.id]}),Object(c.jsx)("button",{className:"increase",onClick:function(){n.handleChange(e.id,n.state[e.id]+1)},children:"+"})]})]},t)}))})]}),Object(c.jsxs)("div",{className:"boardAdditional__group",children:[Object(c.jsx)("h3",{className:"boardAdditional__groupTitle",children:"\u0413\u0443\u043c\u043a\u0430"}),Object(c.jsx)("div",{className:"boardAdditional__list",children:o.map((function(e,t){return Object(c.jsxs)("div",{className:"boardAdditional__item item",children:[Object(c.jsx)("h4",{className:"item__color",children:e.color}),Object(c.jsxs)("div",{className:"item__numberWrapper",children:[Object(c.jsx)("button",{className:"decrease",onClick:function(){n.handleChange(e.id,n.state[e.id]-1)},children:"\u2212"}),Object(c.jsx)("input",{readOnly:!0,name:"Color",type:"number",className:"item__numberInput",value:+n.state[e.id]}),Object(c.jsx)("button",{className:"increase",onClick:function(){n.handleChange(e.id,n.state[e.id]+1)},children:"+"})]})]},t)}))})]})]})]})},n.items={markers:[{color:"\u0447\u0435\u0440\u0432\u043e\u043d\u0438\u0439",id:"red"},{color:"\u0447\u043e\u0440\u043d\u0438\u0439",id:"black"}],erasers:[{color:"\u0412\u0438\u0442\u0438\u0440\u0430\u0447\u043a\u0430",id:"eraser"}]},n.state={red:1,black:1,eraser:1},n}return a}(n.Component)),w=(a(63),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).handleChange=function(e){r.setState(Object(u.a)({},e.currentTarget.name,e.currentTarget.value),r.props.handleStuffOrContact(e.currentTarget.name,e.currentTarget.value))},r.render=function(){var e=r.props.title,t=r.props.data,a=t.type,s=t.picture,i=t.red,o=t.black,l=t.eraser,d=r.state,u=d.contactName,p=d.contactValue,m=d.contactSocialType;return Object(c.jsxs)("article",{className:"content",children:[Object(c.jsx)("h1",{className:"content__title",children:e}),Object(c.jsxs)("section",{className:"boardPreview",children:[Object(c.jsx)("img",{className:"boardPreview__image",src:s.image,alt:""}),Object(c.jsx)("img",{className:"boardPreview__grid",src:a.image,alt:""})]}),Object(c.jsxs)("section",{className:"stuff__list",children:[i?Object(c.jsxs)("div",{className:"stuff",children:["\u0427\u0435\u0440\u0432\u043e\u043d\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440 - ",i]}):"",o?Object(c.jsxs)("div",{className:"stuff",children:["\u0427\u043e\u0440\u043d\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440 - ",o]}):"",l?Object(c.jsxs)("div",{className:"stuff",children:["\u0413\u0443\u043c\u043a\u0430 - ",l]}):""]}),Object(c.jsxs)("section",{className:"contactData",children:[Object(c.jsx)("label",{htmlFor:"contactName",children:"\u0412\u0430\u0448\u0435 \u0456\u043c'\u044f"}),Object(c.jsx)("input",{type:"text",id:"contactName",name:"contactName",placeholder:"\u0414\u043e\u0440\u0438\u0430\u043d",defaultValue:u,onChange:r.handleChange}),Object(c.jsx)("label",{children:"\u0422\u0438\u043f \u0437\u0432'\u044f\u0437\u043a\u0443"}),Object(c.jsxs)("div",{className:"radioWrapper",children:[Object(c.jsx)("input",{type:"radio",name:"contactSocialType",value:"telegram",onChange:r.handleChange}),Object(c.jsx)("input",{type:"radio",name:"contactSocialType",value:"viber",onChange:r.handleChange}),Object(c.jsx)("input",{type:"radio",name:"contactSocialType",value:"phone",onChange:r.handleChange})]}),u&&m?Object(c.jsxs)(n.Fragment,{children:[Object(c.jsx)("label",{htmlFor:"contactValue",children:"\u0412\u0430\u0448 \u043a\u043e\u043d\u0442\u0430\u043a\u0442"}),Object(c.jsx)("input",{type:"text",id:"contactValue",name:"contactValue",placeholder:"@handle or +380123",defaultValue:p,onChange:r.handleChange})]}):""]})]})},r.state={contactName:"",contactSocialType:"",contactValue:""},r}return a}(n.Component)),P=(a(64),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).render=function(){var e=n.props.data.contactName;return Object(c.jsxs)("div",{className:"thankyou",children:[Object(c.jsxs)("h2",{children:[e," \u0434\u044f\u043a\u0443\u0454\u043c\u043e \u0437\u0430 \u0437\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f!"]}),Object(c.jsx)("h3",{children:"\u041c\u0438 \u0437\u0430 \u0432\u0430\u043c\u0438 \u0437\u0432\u044f\u0436\u0435\u043c\u043e\u0441\u044f \u0434\u043b\u044f \u0443\u0442\u043e\u0447\u043d\u0435\u043d\u043d\u044f \u0434\u0435\u0442\u0430\u043b\u0435\u0439"})]})},n.state={},n}return a}(n.Component)),A=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getStep=function(){switch(n.props.currentStep){case 0:return Object(c.jsx)(_,{title:"\u041c\u0430\u0433\u043d\u0456\u0442\u043d\u0438\u0439 \u043f\u043b\u0430\u043d\u0435\u0440"});case 1:return Object(c.jsx)(y,{title:"\u0422\u0438\u043f \u0441\u0456\u0442\u043a\u0438",handleType:n.props.handleType});case 2:return Object(c.jsx)(T,{title:"\u0424\u043e\u043d \u0434\u043e\u0448\u043a\u0438",handlePicture:n.props.handlePicture,data:n.props.data});case 3:return Object(c.jsx)(F,{title:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0435 \u043e\u0431\u043b\u0430\u0434\u043d\u0430\u043d\u043d\u044f",handleStuffOrContact:n.props.handleStuffOrContact,data:n.props.data});case 4:return Object(c.jsx)(w,{title:"\u0417\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f",handleStuffOrContact:n.props.handleStuffOrContact,data:n.props.data});case 5:return Object(c.jsx)(P,{data:n.props.data});default:return Object(c.jsx)("div",{className:"test",children:Object(c.jsx)("h2",{children:"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0442\u0435 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0431\u0443\u0434\u044c-\u043b\u0430\u0441\u043a\u0430."})})}},n.render=function(){return n.getStep()},n.state={},n}return a}(n.Component),I=a(24),R=(a(70),a(71),a(77)),V=a(25);Object(V.init)("user_Q0TdHoiocAz850aPWUZ8r");I.a.initializeApp({apiKey:"AIzaSyCEYDxsPGkKkh6rSFhqDMOUYM4LigAibR8",authDomain:"magnet-boards.firebaseapp.com",projectId:"magnet-boards",storageBucket:"magnet-boards.appspot.com",messagingSenderId:"566099567381",appId:"1:566099567381:web:3151c36f06bcf057bcff1c",measurementId:"G-KNCLRBF3DR"});var q=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var c;return Object(p.a)(this,a),(c=t.call(this,e)).handleStep=function(e){window.scrollTo(0,0);var t=3===e;c.setState({currentStep:e,isFilled:t})},c.handleType=function(e){c.setState({type:e,isFilled:!0})},c.handlePicture=function(e){c.setState({picture:e,isFilled:!0})},c.handleStuffOrContact=function(e,t){var a;c.setState((a={},Object(u.a)(a,e,t),Object(u.a)(a,"isFilled",!0),a))},c.uploadCustomerImage=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(R.a)(),c=I.a.storage().ref().child("".concat(a,".png")),n=t,e.next=5,c.putString(n,"data_url").then(function(){var e=Object(d.a)(l.a.mark((function e(t){var a,c,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.metadata,c=a.bucket,n=a.fullPath,r="https://firebasestorage.googleapis.com/v0/b/".concat(c,"/o/").concat(n,"?alt=media"),e.next=4,r;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.handleSubmit=function(){var e=c.state,t=e.contactName,a=e.contactSocialType,n=e.contactValue,r=e.type,s=e.picture,i=e.red,o=e.black,l=e.eraser,d=s.image;0===s.id&&(d=c.uploadCustomerImage(s.image));var u={contactName:t,contactSocialType:a,contactValue:n,grid:r.image,image:d,red:i,black:o,eraser:l,price:""};Object(V.send)("service_qir146q","template_oq96krr",u,"user_Q0TdHoiocAz850aPWUZ8r")},c.state={currentStep:0,picture:null,type:null,red:1,black:1,eraser:1,contactName:"",contactSocialType:"",contactValue:"",price:0,isFilled:!0},c}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state.currentStep;return Object(c.jsxs)(n.Fragment,{children:[Object(c.jsx)(h,{}),Object(c.jsx)("main",{className:"main",children:Object(c.jsx)(A,{currentStep:e,handleType:this.handleType,handlePicture:this.handlePicture,handleStuffOrContact:this.handleStuffOrContact,data:this.state})}),Object(c.jsx)(f,{currentStep:e,handleStep:this.handleStep,handleSubmit:this.handleSubmit,data:this.state})]})}}]),a}(n.Component);var D=function(){return Object(c.jsx)(q,{})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(D,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.3bc0b5e6.chunk.js.map